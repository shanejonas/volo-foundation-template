jQuery.foundation=jQuery.foundation||{},jQuery.foundation.customForms=jQuery.foundation.customForms||{},jQuery(document).ready(function(a){a.foundation.customForms.appendCustomMarkup=function(b){function d(b,c){var d=a(c).hide(),e=d.attr("type"),f=d.next("span.custom."+e);f.length===0&&(f=a('<span class="custom '+e+'"></span>').insertAfter(d)),f.toggleClass("checked",d.is(":checked")),f.toggleClass("disabled",d.is(":disabled"))}function e(b,c){var d=a(c),e=d.next("div.custom.dropdown"),f=d.find("option"),g=d.find("option:selected"),h=0,i;if(d.hasClass("no-custom"))return;e.length===0?($customSelectSize="",a(c).hasClass("small")?$customSelectSize="small":a(c).hasClass("medium")?$customSelectSize="medium":a(c).hasClass("large")?$customSelectSize="large":a(c).hasClass("expand")&&($customSelectSize="expand"),e=a('<div class="custom dropdown '+$customSelectSize+'"><a href="#" class="selector"></a><ul></ul></div>"'),f.each(function(){i=a("<li>"+a(this).html()+"</li>"),e.find("ul").append(i)}),e.prepend('<a href="#" class="current">'+g.html()+"</a>"),d.after(e),d.hide()):(e.find("ul").html(""),f.each(function(){i=a("<li>"+a(this).html()+"</li>"),e.find("ul").append(i)})),e.toggleClass("disabled",d.is(":disabled")),f.each(function(b){this.selected&&(e.find("li").eq(b).addClass("selected"),e.find(".current").html(a(this).html()))}),e.css("width","inherit"),e.find("ul").css("width","inherit"),e.find("li").each(function(){e.addClass("open"),a(this).outerWidth()>h&&(h=a(this).outerWidth()),e.removeClass("open")}),e.is(".small, .medium, .large, .expand")||(e.css("width",h+18+"px"),e.find("ul").css("width",h+16+"px"))}var c={disable_class:"js-disable-custom"},b=a.extend(c,b);a("form.custom input:radio[data-customforms!=disabled]").each(d),a("form.custom input:checkbox[data-customforms!=disabled]").each(d),a("form.custom select[data-customforms!=disabled]").each(e)}}),function(a){function b(b){var c=0,d=b.next();$options=b.find("option"),d.find("ul").html(""),$options.each(function(){$li=a("<li>"+a(this).html()+"</li>"),d.find("ul").append($li)}),$options.each(function(b){this.selected&&(d.find("li").eq(b).addClass("selected"),d.find(".current").html(a(this).html()))}),d.removeAttr("style").find("ul").removeAttr("style"),d.find("li").each(function(){d.addClass("open"),a(this).outerWidth()>c&&(c=a(this).outerWidth()),d.removeClass("open")}),d.css("width",c+18+"px"),d.find("ul").css("width",c+16+"px")}function c(a){var b=a.prev(),c=b[0];0==b.is(":disabled")&&(c.checked=c.checked?!1:!0,a.toggleClass("checked"),b.trigger("change"))}function d(b){var c=b.prev(),d=c[0];0==c.is(":disabled")&&(a('input:radio[name="'+c.attr("name")+'"]').each(function(){a(this).next().removeClass("checked")}),d.checked=d.checked?!1:!0,b.toggleClass("checked"),c.trigger("change"))}a("form.custom span.custom.checkbox").live("click",function(b){b.preventDefault(),b.stopPropagation(),c(a(this))}),a("form.custom span.custom.radio").live("click",function(b){b.preventDefault(),b.stopPropagation(),d(a(this))}),a("form.custom select").live("change",function(c){b(a(this))}),a("form.custom label").live("click",function(b){var e=a("#"+a(this).attr("for")),f,g;e.length!==0&&(e.attr("type")==="checkbox"?(b.preventDefault(),f=a(this).find("span.custom.checkbox"),c(f)):e.attr("type")==="radio"&&(b.preventDefault(),g=a(this).find("span.custom.radio"),d(g)))}),a("form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector").live("click",function(b){var c=a(this),d=c.closest("div.custom.dropdown"),e=d.prev();b.preventDefault(),a("div.dropdown").removeClass("open");if(0==e.is(":disabled"))return d.toggleClass("open"),d.hasClass("open")?a(document).bind("click.customdropdown",function(b){d.removeClass("open"),a(document).unbind(".customdropdown")}):a(document).unbind(".customdropdown"),!1}),a("form.custom div.custom.dropdown li").live("click",function(b){var c=a(this),d=c.closest("div.custom.dropdown"),e=d.prev(),f=0;b.preventDefault(),b.stopPropagation(),a("div.dropdown").removeClass("open"),c.closest("ul").find("li").removeClass("selected"),c.addClass("selected"),d.removeClass("open").find("a.current").html(c.html()),c.closest("ul").find("li").each(function(a){c[0]==this&&(f=a)}),e[0].selectedIndex=f,e.trigger("change")})}(jQuery)