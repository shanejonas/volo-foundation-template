(function(a){var b={bodyHeight:0,targetClass:".has-tip",tooltipClass:".tooltip",tipTemplate:function(a,c){return'<span data-selector="'+a+'" class="'+b.tooltipClass.substring(1)+'">'+c+'<span class="nub"></span></span>'}},c={init:function(d){return this.each(function(){var d=a("body"),e=this;Modernizr.touch?(d.on("click.tooltip touchstart.tooltip touchend.tooltip",b.targetClass,function(d){d.preventDefault();var e=a(this);a(b.tooltipClass).hide(),c.showOrCreateTip(e)}),a(b.tooltipClass).on("click.tooltip touchstart.tooltip touchend.tooltip",function(b){b.preventDefault(),a(this).fadeOut(150)})):d.on("mouseover.tooltip mouseout.tooltip",b.targetClass,function(b){var d=a(this);b.type==="mouseover"?c.showOrCreateTip(d):b.type==="mouseout"&&c.hide(d)})})},showOrCreateTip:function(a){var b=c.getTip(a);b&&b.length>0?c.show(a):c.create(a)},getTip:function(d){var e=c.selector(d),f=null;return e&&(f=a("span[data-selector="+e+"]"+b.tooltipClass)),f?f:!1},selector:function(a){var b=a.attr("id"),c=a.data("selector");return b===undefined&&c===undefined&&(c="tooltip"+Math.random().toString(36).substring(7),a.attr("data-selector",c)),b?b:c},create:function(d){var e=a(b.tipTemplate(c.selector(d),d.attr("title"))),f=c.inheritable_classes(d);e.addClass(f).appendTo("body"),Modernizr.touch&&e.append('<span class="tap-to-close">tap to close </span>'),d.removeAttr("title"),c.show(d)},reposition:function(b,c,d){var e,f,g,h,i,j;c.css("visibility","hidden").show(),e=b.data("width"),f=c.children(".nub"),g=f.outerHeight(),h=f.outerWidth(),j=function(a,b,c,d,e,f){return a.css({top:b,bottom:d,left:e,right:c,width:f?f:"auto"}).end()},j(c,b.offset().top+b.outerHeight()+10,"auto","auto",b.offset().left,e),j(f,-g,"auto","auto",10),a(window).width()<767?(i=b.parents(".row"),c.width(i.outerWidth()-20).css("left",i.offset().left).addClass("tip-override"),j(f,-g,"auto","auto",b.offset().left)):d.indexOf("tip-top")>-1?(j(c,b.offset().top-c.outerHeight()-g,"auto","auto",b.offset().left,e).removeClass("tip-override"),j(f,"auto","auto",-g,"auto")):d.indexOf("tip-left")>-1?(j(c,b.offset().top+b.outerHeight()/2-g,"auto","auto",b.offset().left-c.outerWidth()-10,e).removeClass("tip-override"),j(f,c.outerHeight()/2-g/2,-g,"auto","auto")):d.indexOf("tip-right")>-1&&(j(c,b.offset().top+b.outerHeight()/2-g,"auto","auto",b.offset().left+b.outerWidth()+10,e).removeClass("tip-override"),j(f,c.outerHeight()/2-g/2,"auto","auto",-g)),c.css("visibility","visible").hide()},inheritable_classes:function(b){var c=["tip-top","tip-left","tip-bottom","tip-right","noradius"],d=b.attr("class").split(" ").map(function(b,d){if(a.inArray(b,c)!==-1)return b}).join(" ");return a.trim(d)},show:function(a){var b=c.getTip(a);c.reposition(a,b,a.attr("class")),b.fadeIn(150)},hide:function(a){var b=c.getTip(a);b.fadeOut(150)},reload:function(){var b=a(this);return b.data("tooltips")?b.tooltips("destroy").tooltips("init"):b.tooltips("init")},destroy:function(){return this.each(function(){a(window).off(".tooltip"),a(b.targetClass).off(".tooltip"),a(b.tooltipClass).each(function(c){a(a(b.targetClass).get(c)).attr("title",a(this).text())}).remove()})}};a.fn.tooltips=function(b){if(c[b])return c[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return c.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.tooltips")}})(jQuery)